# Release v1.1.5

**Release Date:** 2025-12-25

## üåç New Feature: Automatic Timezone Conversion

### All Timestamps Now in Local Time

**What's New:** All date and time fields in API responses are now automatically converted from UTC to your local timezone.

**Why This Matters:**
- üïí No more UTC confusion - timestamps match your local time
- üìÖ Better readability for LLMs and humans
- üåê ISO 8601 format with timezone information (e.g., `2025-12-25T14:30:00+01:00`)

## Changes

### Automatic Timezone Conversion

**What Changed:**
The server now automatically converts all UTC timestamps returned by the Withings API to your local timezone before returning them.

**Affected Fields:**
- `date` - Measurement and activity timestamps
- `startdate` / `enddate` - Period boundaries
- `start` / `end` - Sleep and workout periods
- `created` / `modified` / `lastupdate` - Metadata timestamps

**Format:**
All converted timestamps use ISO 8601 format with timezone:
- Before: `1735134600` (Unix timestamp in UTC)
- After: `2025-12-25T14:30:00+01:00` (ISO 8601 with local timezone)

### Technical Details

Modified `src/withings_mcp_server/server.py`:
1. Added `timezone` import from `datetime` module
2. Added `_convert_utc_to_local()` method for recursive timestamp conversion
3. Applied conversion to all tool responses before returning results
4. Preserves original data structure while converting timestamp fields

## Impact

- ‚úÖ Better timestamp readability for LLMs
- ‚úÖ Automatic conversion - no configuration needed
- ‚úÖ All date fields include timezone information
- ‚úÖ Compatible with existing code
- ‚úÖ No breaking changes - timestamps are still parseable

## Upgrade Instructions

Update to the latest version:

```bash
pip install --upgrade withings-mcp-server
```

Or if installed in editable mode:

```bash
cd /path/to/withings-mcp-server
git pull
```

Then restart Claude Desktop.

## Notes

- The conversion uses your system's local timezone
- Input dates (in requests) still accept both YYYY-MM-DD and Unix timestamps
- The Withings API still receives UTC timestamps - conversion only affects responses
